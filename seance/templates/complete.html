{% extends "base.html" %}
{% load static %}

{% block body %}
<section class="clean-block container" style="margin-top:200px">
    <div class="container-fluid">
        <div class="row mx-xl-5">
            <div class="col">
                <br>
                <h2 class="text-info" style="text-align:center;margin-bottom:15px">Here are your results</h2>
                <div>
                    {% if scores.overall < 1  %}
                            <div class="alert alert-success text-center" role="alert">
                              <p>Your overall cyber security risk rating: <b style="font-size: larger">{{ scores.overall }} / 5</b></p>
                              <hr>
                              <p class="mb-0 fs-3 fw-bolder">VERY LOW RISK</p>
                              <hr>
                              <p style="font-size: xx-small; text-align: justify"><b>Understanding your cyber security
                              score:</b> Your cyber security score reflects the potential risk level from cyber threats,
                              ranging from 0 (no risk) to 5 (maximum risk). Scores closer to 0 indicate very low risk,
                              suggesting strong security measures are in place. As scores approach 5, they signify a
                              very high risk, indicating urgent improvements are needed to safeguard against cyber threats.
                              Regular updates and professional advice are recommended to enhance your cyber security
                              posture.</p>
                            </div>
                    {% elif scores.overall >= 1 and scores.overall < 2 %}
                            <div class="alert alert-success text-center" role="alert">
                              <p>Your overall cyber security risk rating: <b style="font-size: larger">{{ scores.overall }} / 5</b></p>
                              <hr>
                              <p class="mb-0 fs-3 fw-bolder">LOW RISK</p>
                              <hr>
                              <p style="font-size: xx-small; text-align: justify"><b>Understanding your cyber security
                              score:</b> Your cyber security score reflects the potential risk level from cyber threats,
                              ranging from 0 (no risk) to 5 (maximum risk). Scores closer to 0 indicate very low risk,
                              suggesting strong security measures are in place. As scores approach 5, they signify a
                              very high risk, indicating urgent improvements are needed to safeguard against cyber threats.
                              Regular updates and professional advice are recommended to enhance your cyber security
                              posture.</p>
                            </div>
                    {% elif scores.overall >= 2 and scores.overall < 3 %}
                        <div class="alert alert-warning text-center" role="alert">
                          <p>Your overall cyber security risk rating: <b style="font-size: larger">{{ scores.overall }} / 5</b></p>
                          <hr>
                          <p class="mb-0 fs-3 fw-bolder">MODERATE RISK</p>
                          <hr>
                          <p style="font-size: xx-small; text-align: justify"><b>Understanding your cyber security
                          score:</b> Your cyber security score reflects the potential risk level from cyber threats,
                          ranging from 0 (no risk) to 5 (maximum risk). Scores closer to 0 indicate very low risk,
                          suggesting strong security measures are in place. As scores approach 5, they signify a
                          very high risk, indicating urgent improvements are needed to safeguard against cyber threats.
                          Regular updates and professional advice are recommended to enhance your cyber security
                          posture.</p>
                        </div>
                    {% elif scores.overall >= 3 and scores.overall < 4 %}
                        <div class="alert alert-danger text-center" role="alert">
                          <p>Your overall cyber security risk rating: <b style="font-size: larger">{{ scores.overall }} / 5</b></p>
                          <hr>
                          <p class="mb-0 fs-3 fw-bolder">HIGH RISK</p>
                          <hr>
                          <p style="font-size: xx-small; text-align: justify"><b>Understanding your cyber security
                          score:</b> Your cyber security score reflects the potential risk level from cyber threats,
                          ranging from 0 (no risk) to 5 (maximum risk). Scores closer to 0 indicate very low risk,
                          suggesting strong security measures are in place. As scores approach 5, they signify a
                          very high risk, indicating urgent improvements are needed to safeguard against cyber threats.
                          Regular updates and professional advice are recommended to enhance your cyber security
                          posture.</p>
                        </div>
                    {% elif scores.overall >= 4 %}
                        <div class="alert alert-danger text-center" role="alert">
                          <p>Your overall cyber security risk rating: <b style="font-size: larger">{{ scores.overall }} / 5</b></p>
                          <hr>
                          <p class="mb-0 fs-3 fw-bolder">VERY HIGH RISK</p>
                          <hr>
                          <p style="font-size: xx-small; text-align: justify"><b>Understanding your cyber security
                          score:</b> Your cyber security score reflects the potential risk level from cyber threats,
                          ranging from 0 (no risk) to 5 (maximum risk). Scores closer to 0 indicate very low risk,
                          suggesting strong security measures are in place. As scores approach 5, they signify a
                          very high risk, indicating urgent improvements are needed to safeguard against cyber threats.
                          Regular updates and professional advice are recommended to enhance your cyber security
                          posture.</p>
                        </div>
                    {% endif %}
                </div>
                <div>
                    <br>
                </div>
                 <div class="alert alert-info fw-bold fs-5">
                    Layer 1: {{ sections.1 }}
                </div>
                <p>You average cyber security risk rating for this layer: <b>{{ scores.layer1 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer1">
                {% for entry in suggestions.layer1 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer1" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-info fw-bold fs-5">
                    Layer 2: {{ sections.2 }}
                </div>
                <p>You average cyber security risk rating: <b>{{ scores.layer2 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer2">
                {% for entry in suggestions.layer2 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer2" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-info fw-bold fs-5">
                    Layer 3: {{ sections.3 }}
                </div>
                <p>You average cyber security risk rating: <b>{{ scores.layer3 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer3">
                {% for entry in suggestions.layer3 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer3" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-info fw-bold fs-5">
                    Layer 4: {{ sections.4 }}
                </div>
                <p>You average cyber security risk rating: <b>{{ scores.layer4 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer4">
                {% for entry in suggestions.layer4 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer4" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-info fw-bold fs-5">
                    Layer 5: {{ sections.5 }}
                </div>
                <p>You average cyber security risk rating: <b>{{ scores.layer5 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer5">
                {% for entry in suggestions.layer5 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer5" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-info fw-bold fs-5">
                    Layer 6: {{ sections.6 }}
                </div>
                <p>You average cyber security risk rating: <b>{{ scores.layer6 }}/5</b></p>
                <p class="bg-success-subtle text-success-emphasis"><b>Recommended actions to reduce your risk:</b></p>
                <div class="accordion" id="accordion-layer6">
                {% for entry in suggestions.layer6 %}
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="header{{ entry.sid }}">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ entry.sid }}" aria-expanded="false" aria-controls="collapse{{ entry.sid }}">
                                {{ entry.risk }}
                                </button>
                            </h2>
                            <div id="collapse{{ entry.sid }}" class="accordion-collapse collapse" data-bs-parent="#accordion-layer6" aria-labelledby="header{{ entry.sid }}">
                                <div class="accordion-body">
                                    <p>{{ entry.action|linebreaks }}</p>
                                    <p>{{ entry.sources|safe|linebreaks }}</p>
                                </div>
                            </div>
                        </div>
                {% endfor %}
                </div>
                <div>
                    <br>
                </div>
                <div class="alert alert-danger fw-bold fs-5 text-center">
                    Data Flow Diagram of Your Organisation
                </div>
                <div class="text-center position-relative" style="border: 2px solid black;">
                    <img class="img-fluid mx-auto d-block" src="{{ fname }}" style="width: 1000px; margin-bottom: 15px" alt="Data Flow Diagram of your organisation"/>
                </div>
                <div class="container" style="margin-top: 15px">
                <p style="text-justify: auto">This is the data flow diagram of your organisation based on your answers. Please note that this might
                    not be an accurate and complete presentation of your organisation, but take it as a starting point to think
                    about possible vulnerabilities in your data flows, network and systems.</p>
                </div>
                <div>
                    <hr>
                </div>
                <div>
                    <blockquote>
                    <p class="bg-secondary-subtle bg-opacity-75" style="font-size: x-small;text-align: justify; padding: 10px">
                    <i><b>Disclaimer:</b> This report has been prepared on the basis of the information provided by you in
                    response to the questions posed. The recommendations and data flow diagram contained in this report are
                    intended as general guidance and are neither exhaustive nor infallible. As such, they may contain
                    inaccuracies or omissions. The third party links provided are for information purposes only and have
                    been selected from reliable sources. Clicking on these links and visiting the websites is entirely at
                    your own risk. The researcher is not affiliated or associated with these third party websites and does
                    not endorse and makes no warranties for the accuracy of information provided on these websites. We
                    strongly recommend that you conduct your own thorough research and, if necessary, consult with a
                    professional before implementing any cyber security measures based on this report. By using this tool,
                    you acknowledge and agree that any reliance on the information contained herein is entirely at your own
                    risk.</i></p>
                    </blockquote>
                </div>
                <div class="text-center">
                    <form method="post" id="form2">
                        {% csrf_token %}
                        <input type='hidden' value='download_pdf' name='download_pdf'>
                        <div class="row">
                            <div class="col-sm-12 text-center">
                                <button id="btnDownload" class="btn btn-outline-primary" Style="width: auto;" type="submit">Download report (PDF)</button>
                                 <button id="btnHome" class="btn btn-outline-primary" Style="width: auto;" type="button" onclick="location.href='{%  url 'home' %}'">Back to Home Page</button>
                             </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

